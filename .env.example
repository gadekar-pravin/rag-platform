# RAG Platform — Environment Variables
# Copy to .env and fill in values for local development.

# -- Tenant ------------------------------------------------------------------
TENANT_ID=default

# -- Auth (local dev) --------------------------------------------------------
# Shared bearer token for local dev (disabled on Cloud Run)
RAG_SHARED_TOKEN=dev-token

# -- Embedding ---------------------------------------------------------------
GEMINI_API_KEY=your-gemini-api-key-here
# RAG_EMBEDDING_MODEL=gemini-embedding-001
# RAG_EMBEDDING_DIM=768

# -- Database ----------------------------------------------------------------
# Full connection string (overrides individual DB_* vars)
# DATABASE_URL=postgresql://apexflow:apexflow@localhost:5432/apexflow
DB_HOST=localhost
DB_PORT=5432
DB_USER=apexflow
DB_PASSWORD=apexflow
DB_NAME=apexflow
# DB_POOL_MAX=5

# -- Search tuning -----------------------------------------------------------
# RAG_RRF_K=60
# RAG_SEARCH_EXPANSION=3

# -- Chunking ----------------------------------------------------------------
# RAG_CHUNK_SIZE=2000
# RAG_CHUNK_OVERLAP=200

# -- GCP (production / Vertex AI) --------------------------------------------
# GOOGLE_CLOUD_PROJECT=apexflow-ai
# GOOGLE_CLOUD_LOCATION=us-central1

# -- MCP Server --------------------------------------------------------------
RAG_SERVICE_URL=http://localhost:8000
RAG_MCP_TOKEN=dev-token
# MCP_PORT=8001
# On Cloud Run, the MCP server auto-mints OIDC tokens targeting RAG_SERVICE_URL.
# No config needed — uses the service account identity automatically.

# -- Ingestion ---------------------------------------------------------------
# RAG_INGEST_INPUT_BUCKET=my-bucket
# RAG_INGEST_INPUT_PREFIX=incoming/
# RAG_INGEST_TENANTS=                     # comma-separated allowlist
# RAG_INGEST_INCREMENTAL=true
# RAG_INGEST_FORCE_REINDEX=false
# RAG_INGEST_MAX_FILE_WORKERS=3
# RAG_INGEST_MAX_RETRIES_PER_FILE=2
# RAG_INGEST_OUTPUT_BUCKET=               # for extracted text artifacts
# RAG_INGEST_OUTPUT_PREFIX=rag-extracted/
# RAG_MAX_CONTENT_CHARS=2000000

# -- OCR / Document AI -------------------------------------------------------
# RAG_OCR_ENABLED=true
# RAG_DOC_AI_PROJECT=
# RAG_DOC_AI_LOCATION=
# RAG_DOC_AI_PROCESSOR_ID=
# RAG_PDF_TEXT_PER_PAGE_MIN=200

# -- Testing -----------------------------------------------------------------
# DATABASE_TEST_URL=postgresql://apexflow:apexflow@localhost:5432/apexflow
